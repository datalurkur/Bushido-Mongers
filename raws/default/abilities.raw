abstract root aspect {
    has float intrinsic;

    class float default_intrinsic;
    default_intrinsic 0.2;

    class optional sym associated_attribute;
    class optional float attribute_scaling;

    class float variance;
    variance 0.2;

    uses aspect;
}

abstract aspect attribute {}

attribute strength {}
attribute agility {}

abstract aspect skill {
    has float familiarity;

    class float default_familiarity;
    default_familiarity 0.0;

    /* Familiarity begins to degrade after this many ticks */
    class int familiarity_loss;
    familiarity_loss 10;

    /* The rate at which familiarity is lost (as a percentage) */
    has float familiarity_loss_rate;
    familiarity_loss_rate 0.1;

    /* Gain this much familiarity every time you do the thing */
    has float familiarity_gain_rate;
    familiarity_gain_rate 0.02;

    uses skill;
}

skill hide {
    default_intrinsic 0.2;
    default_familiarity 0.0;

    associated_attribute agility;
    attribute_scaling 0.2;
}

skill hammer_fighting {
    default_intrinsic 0.2;
    default_familiarity 0.0;

    associated_attribute strength;
    attribute_scaling 0.2;
}
