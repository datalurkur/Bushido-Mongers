abstract root item {
    has float weight;
    has int value;
}

abstract item constructable {
    has sym quality;
    has_many sym techniques;
    needs quality materials;

    at_creation {
        {
            :weight => params[:materials].inject(0) { |w,m| w + m.weight },
            :value  =>
                Quality.value(params[:quality]) *
                params[:materials].inject(0) { |v,m| v + m.value },
            :quality => params[:quality],
        }
    }
}

abstract constructable equippable {
    has sym slot;
}
